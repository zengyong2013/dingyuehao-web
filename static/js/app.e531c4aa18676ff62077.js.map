{"version":3,"sources":["webpack:///./src/libs/request.js","webpack:///src/components/Add.vue","webpack:///./src/components/Add.vue?3e49","webpack:///./src/components/Add.vue","webpack:///src/components/Show.vue","webpack:///./src/components/Show.vue?4a1f","webpack:///./src/components/Show.vue","webpack:///src/components/Join.vue","webpack:///./src/components/Join.vue?39c2","webpack:///./src/components/Join.vue","webpack:///src/components/Share.vue","webpack:///./src/components/Share.vue?49c0","webpack:///./src/components/Share.vue","webpack:///src/components/Loading.vue","webpack:///./src/components/Loading.vue?1fd8","webpack:///./src/components/Loading.vue","webpack:///./src/libs/utils.js","webpack:///src/App.vue","webpack:///./src/App.vue?5d32","webpack:///./src/App.vue","webpack:///./src/store/modules/app.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["request","axios","create","baseURL","timeout","libs_request","query","url","method","data","Add","name","components","storyData","nickName","content","userId","activityId","computed","extends_default","Object","vuex_esm","activity","state","app","userInfo","id","watch","storyData.content","v","length","this","substr","storyData.nickName","methods","ajax","req","_this","params","arguments","undefined","$emit","then","response","code","msg","catch","addStory","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","sent","$store","dispatch","stop","components_Add","render","_vm","_h","$createElement","_c","_self","staticClass","domProps","innerHTML","_s","content_start","replace","_v","directives","rawName","value","expression","attrs","placeholder","on","input","$event","target","composing","$set","_m","type","touchend","staticRenderFns","src_components_Add","__webpack_require__","normalizeComponent","ssrContext","Show","storyDetail","otherStory","mounted","result","components_Show","content_end","nick_name","src_components_Show","Show_normalizeComponent","Join","components_Join","content_share","src_components_Join","Join_normalizeComponent","Share","endDateText","end_date_text","share","components_Share","src_components_Share","Share_normalizeComponent","Loading","props","text","String","default","components_Loading","src_components_Loading","Loading_normalizeComponent","getUrlParams","location","search","theRequest","indexOf","strs","split","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","item","unescape","err","return","App","loadingText","loadingStatus","shareGuid","hasStory","currentView","finish","action","href","navigator","userAgent","showLoading","time","window","setTimeout","hideLoading","selectortype_template_index_0_src_App","width","src","banner","_e","staticStyle","height","tag","show-loading","hide-loading","show-share-guid","src_App","App_normalizeComponent","mutations","SET_ACTIVITY","SET_USER_INFO","SET_HAS_STORY","actions","setActivity","_ref","commit","activityGet","document","title","setUserInfo","_ref2","localStorage","getUser","setHasStory","_ref3","storyGet","Vue","use","Vuex","store","Store","modules","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.e531c4aa18676ff62077.js","sourcesContent":["import axios from 'axios'\nconst request = axios.create({\n  baseURL: 'http://139.129.240.72/dingyuehao-server/public/index.php/web',\n  timeout: 5000, // request timeout\n})\nclass Ajax {\n\n\tgetUser(query) {\n\t\treturn request({\n\t\t\turl: 'user/add',\n\t\t\tmethod: 'post',\n\t\t\tdata: query\n\t\t})\n\t}\n\tstoryAdd(query) {\n\t\treturn request({\n\t\t\turl: 'story/add',\n\t\t\tmethod: 'post',\n\t\t\tdata: query\n\t\t})\n\t}\n\tstoryGet(query) {\n\t\treturn request({\n\t\t\turl: 'story/get',\n\t\t\tmethod: 'post',\n\t\t\tdata: query\n\t\t})\n\t}\n\tstoryMatch(query) {\n\t\treturn request({\n\t\t\turl: 'story/match',\n\t\t\tmethod: 'post',\n\t\t\tdata: query\n\t\t})\n\t}\n\tactivityGet(query) {\n\t\treturn request({\n\t\t\turl: 'activity/get',\n\t\t\tmethod: 'post',\n\t\t\tdata: query\n\t\t})\n\t}\n}\nexport default new Ajax\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/request.js","<template>\n  <div class=\"main\">\n    <div v-html=\"activity.content_start.replace(/\\n/g, '<br/>')\" class=\"text\">\n    </div>\n    <div class=\"content relative\">\n      <div class=\"border-top\"></div>\n\t\t\t<div class=\"arrow-right\"></div>\n\t\t\t<div class=\"count\">{{ storyData.content.length }}/140</div>\n\t\t\t<textarea v-model=\"storyData.content\" class=\"textarea\" placeholder=\"请在此输入你的故事，140个字符以内\" />\n    </div>\n    <div class=\"name\">\n\t\t\t<div>\n\t\t\t\t<span class=\"name-text\">你的昵称是？</span>\n\t\t\t</div>\t\n\t\t\t<div class=\"relative\">\n\t\t\t\t<div class=\"border-top\"></div>\n\t\t\t\t<div class=\"arrow-right\"></div>\n\t\t\t\t<input v-model=\"storyData.nickName\" class=\"input\" type=\"text\" placeholder=\"请在此处输入昵称，5个字符以内\" />\n\t\t\t</div>  \n    </div>\n\t\t<div class=\"btn center\">\n\t\t\t<span @touchend=\"addStory\"></span>\n\t\t</div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport ajax from '@/libs/request'\nexport default {\n  name: 'Add',\n  components: {\n\n  },\n  data () {\n    return {\n      storyData: {\n\t\t\t\tnickName: '',\n\t\t\t\tcontent: '',\n\t\t\t\tuserId: '',\n\t\t\t\tactivityId: ''\n\t\t\t}\n    }\n\t},\n\tcomputed: {\n    ...mapState({\n      activity: state => state.app.activity,\n      userId: state => state.app.userInfo.id\n\t\t})\n\t},\n\twatch: {\n\t\t'storyData.content': function(v) {\n\t\t\tif (v.length > 140) {\n\t\t\t\tthis.storyData.content = this.storyData.content.substr(0, 140)\n\t\t\t}\n\t\t},\n\t\t'storyData.nickName': function(v) {\n\t\t\tif (v.length > 5) {\n\t\t\t\tthis.storyData.nickName = this.storyData.nickName.substr(0, 5)\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tajax(req, params = {}) {\n      this.$emit('show-loading', '正在提交，请稍后...')\n      return ajax[req](params).then(response => {\n        this.$emit('hide-loading')\n        const data = response.data\n        if (data.code === 0) {\n          return data.data || true\n        } else {\n          this.$emit('show-loading', data.msg, 2000)\n          return false\n        }\n      }).catch(() => {\n\t\t\t\tthis.$emit('show-loading', '请求失败，请重试', 2000)\n\t\t\t\treturn false\n      })\n\t\t},\n\t\tasync addStory () {\n\t\t\tthis.storyData.userId = this.userId\n\t\t\tthis.storyData.activityId = this.activity.id\n\t\t\tif (!this.storyData.nickName || !this.storyData.content) {\n\t\t\t\tthis.$emit('show-loading', '请输入完整内容', 2000)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst result = await this.ajax('storyAdd', this.storyData)\n\t\t\tif (result) {\n\t\t\t\tthis.$store.dispatch('setHasStory', this.activity.code)\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n\t.main{\n\t\tpadding: 0 3rem 3rem 3rem\n\t}\n\t.text{\n\t\tfont-weight: bold;\n\t\tline-height: 2rem;\n\t\tmargin: 2.5rem 0 1rem;\n\t\t/* white-space: pre; */\n\t}\n\t.content .textarea{\n\t\tborder: 1px solid #333;\n\t\tresize: none;\n\t\twidth: 100%;\n\t\theight: 10rem;\n\t\tpadding:5px;\n\t\tbox-sizing:border-box;\n\t}\n\t.name .input{\n\t\tborder:1px solid #333;\n\t\twidth: 100%;\n\t\tpadding:5px;\n\t\tbox-sizing:border-box;\n\t}\n\t.name .name-text{\n\t\tdisplay: inline-block;\n\t\tpadding: 2px;\n\t\tbackground:#38415e;\n\t\tfont-weight: bold;\n\t\tcolor: #fff;\n\t\tmargin: 2rem 0 1rem;\n\t}\n\t.btn span{\n\t\tdisplay: inline-block;\n\t\tmargin-top: 2rem;\n\t\twidth: 75px;\n\t\theight: 33px;\n\t\tbackground: url('../../static/image/submit-btn.png') no-repeat;\n\t\tbackground-size: 100% 100%\n\t}\n\t.count{\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: -15px;\n\t\tcolor: #666;\n\t\tfont-size: 1.2rem\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.activity.content_start.replace(/\\n/g, '<br/>'))}}),_vm._v(\" \"),_c('div',{staticClass:\"content relative\"},[_c('div',{staticClass:\"border-top\"}),_vm._v(\" \"),_c('div',{staticClass:\"arrow-right\"}),_vm._v(\" \"),_c('div',{staticClass:\"count\"},[_vm._v(_vm._s(_vm.storyData.content.length)+\"/140\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.storyData.content),expression:\"storyData.content\"}],staticClass:\"textarea\",attrs:{\"placeholder\":\"请在此输入你的故事，140个字符以内\"},domProps:{\"value\":(_vm.storyData.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.storyData, \"content\", $event.target.value)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"border-top\"}),_vm._v(\" \"),_c('div',{staticClass:\"arrow-right\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.storyData.nickName),expression:\"storyData.nickName\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"请在此处输入昵称，5个字符以内\"},domProps:{\"value\":(_vm.storyData.nickName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.storyData, \"nickName\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"btn center\"},[_c('span',{on:{\"touchend\":_vm.addStory}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"name-text\"},[_vm._v(\"你的昵称是？\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-39f48a8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-39f48a8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-39f48a8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-39f48a8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Add.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"main\">\n    <div v-html=\"activity.content_end.replace(/\\n/g, '<br/>')\" class=\"text\">\n    </div>\n\t\t<div class=\"name\">\n\t\t\t<div>\n\t\t\t\t<span class=\"name-text\">TA的昵称</span>\n\t\t\t</div>\n\t\t\t<div class=\"relative\">\n\t\t\t\t<div class=\"border-top\"></div>\n\t\t\t\t<div class=\"arrow-right\"></div>\n\t\t\t\t<div class=\"input\">\n\t\t\t\t\t{{ storyDetail.otherStory.nick_name }}\n\t\t\t\t</div>\n\t\t\t</div>  \n    </div>\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t<span class=\"name-text\">TA的故事</span>\n\t\t\t</div>\n\t\t\t<div class=\"content relative\">\n\t\t\t\t<div class=\"border-top\"></div>\n\t\t\t\t<div class=\"arrow-right\"></div>\n\t\t\t\t<div v-html=\"storyDetail.otherStory.content.replace(/\\n/g, '<br/>')\" class=\"textarea\" >\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport ajax from '@/libs/request'\nexport default {\n  name: 'Show',\n  components: {\n    \n\t},\n  data () {\n    return {\n      storyDetail: {\n\t\t\t\totherStory: {\n\t\t\t\t\tcontent: ''\n\t\t\t\t}\n\t\t\t}\n    }\n\t},\n\tcomputed: {\n    ...mapState({\n      activity: state => state.app.activity,\n      userId: state => state.app.userInfo.id\n\t\t})\n\t},\n\tasync mounted () {\n\t\tconst query = {\n\t\t\tuserId: this.userId,\n\t\t\tactivityId: this.activity.id\n\t\t}\n\t\tconst result = await this.ajax('storyMatch', query)\n\t\tif (result) {\n\t\t\tthis.storyDetail = result\n\t\t}\n\t},\n\tmethods: {\n\t\tajax(req, params = {}) {\n      return ajax[req](params).then(response => {\n        const data = response.data\n        if (data.code === 0) {\n          return data.data || true\n        } else {\n          this.$emit('show-loading', data.msg, 2000)\n          return false\n        }\n      }).catch(() => {\n\t\t\t\tthis.$emit('show-loading', '数据获取失败', 2000)\n\t\t\t\treturn false\n      })\n\t\t},\n\t}\n}\n</script>\n\n<style scoped>\n\t.main{\n\t\tpadding: 0 3rem 3rem 3rem\n\t}\n\t.text{\n\t\tline-height: 2rem;\n\t\tmargin: 2.5rem 0 1rem\n\t}\n\t.content .textarea{\n\t\tborder: 1px solid #333;\n\t\tresize: none;\n\t\twidth: 100%;\n\t\theight: 10rem;\n\t\tpadding:5px;\n\t\tbox-sizing:border-box;\n\t}\n\t.name .input{\n\t\tborder:1px solid #333;\n\t\twidth: 100%;\n\t\tpadding:5px;\n\t\tbox-sizing:border-box;\n\t}\n\t.name-text{\n\t\tdisplay: inline-block;\n\t\tpadding: 2px;\n\t\tbackground:#38415e;\n\t\tfont-weight: bold;\n\t\tcolor: #fff;\n\t\tmargin: 1.5rem 0 1rem;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Show.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.activity.content_end.replace(/\\n/g, '<br/>'))}}),_vm._v(\" \"),_c('div',{staticClass:\"name\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"relative\"},[_c('div',{staticClass:\"border-top\"}),_vm._v(\" \"),_c('div',{staticClass:\"arrow-right\"}),_vm._v(\" \"),_c('div',{staticClass:\"input\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.storyDetail.otherStory.nick_name)+\"\\n\\t\\t\\t\\t\")])])]),_vm._v(\" \"),_c('div',[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"content relative\"},[_c('div',{staticClass:\"border-top\"}),_vm._v(\" \"),_c('div',{staticClass:\"arrow-right\"}),_vm._v(\" \"),_c('div',{staticClass:\"textarea\",domProps:{\"innerHTML\":_vm._s(_vm.storyDetail.otherStory.content.replace(/\\n/g, '<br/>'))}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"name-text\"},[_vm._v(\"TA的昵称\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"name-text\"},[_vm._v(\"TA的故事\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9654e65e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Show.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9654e65e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Show.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Show.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Show.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9654e65e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Show.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9654e65e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Show.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"main\">\n    <div v-html=\"activity.content_share.replace(/\\n/g, '<br/>')\" class=\"text\">\n    </div>\n\t\t<div class=\"tip center\">\n\t\t\t<div class=\"img\"></div>\n\t\t</div>\n\t\t<div class=\"qrcode center\">\n\t\t\t<div class=\"img\"></div>\n\t\t</div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Join',\n  components: {\n    \n  },\n  data () {\n    return {\n      \n    }\n\t},\n\tcomputed: {\n    ...mapState({\n      activity: state => state.app.activity\n\t\t})\n\t},\n}\n</script>\n\n<style scoped>\n\t.main{\n\t\tpadding: 0 3rem 3rem 5rem\n\t}\n\t.text{\n\t\tline-height: 2rem;\n\t\tmargin: 2.5rem 0 1rem\n\t}\n\t.tip{\n\t\tmargin: 2.5rem 0 3rem -2rem\n\t}\n\t.tip .img{\n\t\tdisplay: inline-block;\n\t\twidth: 245px;\n\t\theight: 81px;\n\t\tbackground: url('../../static/image/qrcode-tips.png') no-repeat;\n\t\tbackground-size: 100% 100%\n\t}\n\t.qrcode{\n\t\tmargin: 3rem 0 3rem -2rem\n\t}\n\t.qrcode .img{\n\t\tdisplay: inline-block;\n\t\twidth: 125px;\n\t\theight: 125px;\n\t\tbackground: url('../../static/image/qrcode.png') no-repeat;\n\t\tbackground-size: 100% 100%\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Join.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.activity.content_share.replace(/\\n/g, '<br/>'))}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip center\"},[_c('div',{staticClass:\"img\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"qrcode center\"},[_c('div',{staticClass:\"img\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14dc5a71\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Join.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14dc5a71\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Join.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Join.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Join.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14dc5a71\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Join.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14dc5a71\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Join.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"main center\">\n    <div class=\"success\">\n\t\t\t<span class=\"img\"></span>\n\t\t\t<p>点击下方分享按钮</p>\n\t\t\t<p>完成报名</p>\n\t\t</div>\n\t\t<div class=\"msg relative\">\n\t\t\t<span class=\"img\"></span>\n\t\t\t<div class=\"msg-text\">\n\t\t\t\t<p>分享完毕后</p>\n\t\t\t\t<p>{{ endDateText }}将在订阅号“买买菌”</p>\n\t\t\t\t<p>为你公布交换结果</p>\n\t\t\t</div>\n\t\t\t<p class=\"no-share\">(如果不分享，本次报名将无效噢)</p>\n\t\t</div>\n\t\t<div @touchend=\"share\" class=\"btn\">\n\t\t\t<span class=\"img\"></span>\n\t\t</div>\n\t\t<div class=\"tips\">\n\t\t\t<span class=\"img\"></span>\n\t\t</div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Join',\n  components: {\n    \n  },\n  data () {\n    return {\n      \n    }\n\t},\n\tcomputed: {\n    ...mapState({\n      endDateText: state => state.app.activity.end_date_text\n\t\t})\n\t},\n\tmethods: {\n\t\tshare () {\n\t\t\tthis.$emit('show-share-guid')\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n\t.main .img{\n\t\tdisplay: inline-block\n\t}\n\t.success .img{\n\t\twidth: 120px;\n\t\theight: 120px;\n\t\tbackground: url('../../static/image/success.png') no-repeat;\n\t\tbackground-size: 100% 100%;\n\t\tmargin: 3rem 0 2rem\n\t}\n\t.msg .img{\n\t\twidth: 280px;\n\t\theight: 85px;\n\t\tbackground: url('../../static/image/msg.png') no-repeat;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.msg .msg-text{\n\t\tposition: absolute;\n\t\ttop: 0.6rem;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t}\n\t.msg .msg-text p{\n\t\tfont-weight: bold;\n\t\tline-height: 0.6rem;\n\t\tfont-family: Microsoft YaHei, 微软雅黑\n\t}\n\t.msg p.no-share{\n\t\tfont-size: 1.2rem;\n\t\tmargin: 0.5rem 0 2rem\n\t}\n\t.btn .img{\n\t\twidth: 75px;\n\t\theight: 30px;\n\t\tbackground: url('../../static/image/share-btn.png') no-repeat;\n\t\tbackground-size: 100% 100%;\n\t}\n\t.tips{\n\t\tmargin-top: 0.5rem\n\t}\n\t.tips .img{\n\t\twidth: 100px;\n\t\theight: 60px;\n\t\tbackground: url('../../static/image/tips.png') no-repeat;\n\t\tbackground-size: 100% 100%;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Share.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main center\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"msg relative\"},[_c('span',{staticClass:\"img\"}),_vm._v(\" \"),_c('div',{staticClass:\"msg-text\"},[_c('p',[_vm._v(\"分享完毕后\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.endDateText)+\"将在订阅号“买买菌”\")]),_vm._v(\" \"),_c('p',[_vm._v(\"为你公布交换结果\")])]),_vm._v(\" \"),_c('p',{staticClass:\"no-share\"},[_vm._v(\"(如果不分享，本次报名将无效噢)\")])]),_vm._v(\" \"),_c('div',{staticClass:\"btn\",on:{\"touchend\":_vm.share}},[_c('span',{staticClass:\"img\"})]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"success\"},[_c('span',{staticClass:\"img\"}),_vm._v(\" \"),_c('p',[_vm._v(\"点击下方分享按钮\")]),_vm._v(\" \"),_c('p',[_vm._v(\"完成报名\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tips\"},[_c('span',{staticClass:\"img\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fe8f599\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Share.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1fe8f599\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Share.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Share.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Share.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fe8f599\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Share.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1fe8f599\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Share.vue\n// module id = null\n// module chunks = ","<template>\n\t<div class='mock'>\n\t\t<div class='main'>\n\t\t\t\t<span>{{ text }}</span>\n\t\t</div>\n\t</div>\n</template>\n<script>\nexport default {\n\tname: 'Loading',\n\tprops: {\n\t\ttext: {\n      type: String,\n      default: '数据加载中...'\n    }\n\t},\n\tdata () {\n    return {\n      \n    }\n\t}\n}\n</script>\n<style scoped>\n\t.mock{\n\t\twidth:100%;\n\t\theight:100%;\n\t}\n\t.main{\n\t\tpadding-top:200px;\n\t\ttext-align:center;\n\t}\n\t.main span{\n\t\tdisplay: inline-block;\n\t\tbackground: #000;\n\t\tcolor: #fff;\n\t\tborder-radius: 5px;\n\t\tpadding: 10px 20px\n\t}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mock\"},[_c('div',{staticClass:\"main\"},[_c('span',[_vm._v(_vm._s(_vm.text))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e88b888a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e88b888a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Loading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e88b888a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e88b888a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Loading.vue\n// module id = null\n// module chunks = ","function getStrLen (str) { // 获取字符串长度\n  return str.replace(/[\\u0391-\\uFFE5]/g, 'aa').length\n}\n\nfunction cutStrByLen (str, len) { // 截取字符串\n  let charLength = 0\n  for (let i = 0; i < str.length; i++) {\n    let sonStr = str.charAt(i)\n    encodeURI(sonStr).length > 2 ? charLength += 1 : charLength += 0.5\n    if (charLength >= len) {\n      let subLen = charLength === len ? i + 1 : i\n      return str.substr(0, subLen)\n    }\n  }\n}\n\nfunction getUrlParams () {\n  let url = location.search\n  let theRequest = {}\n  if (url.indexOf('?') !== -1) {\n    let str = url.substr(1)\n    let strs = str.split('&')\n    for (let item of strs) {\n      theRequest[item.split('=')[0]] = unescape(item.split('=')[1])\n    }\n  }\n  return theRequest\n}\nexport {\n  getStrLen,\n  cutStrByLen,\n  getUrlParams\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/utils.js","<template>\n  <div id=\"app\">\n    <div v-if=\"activity && userInfo\" class=\"banner\">\n      <img width=\"100%\" :src=\"activity.banner\" />\n    </div>\n    <!-- <p v-show=\"!activity || !userInfo\" class=\"center\" style=\"margin-top: 50px\">数据加载中...</p> -->\n    <div v-if=\"activity && userInfo\" style=\"height: 100%;\">\n      <component\n        @show-loading=\"showLoading\"\n        @hide-loading=\"hideLoading\"\n        @show-share-guid=\"shareGuid=true\"\n        :is=\"currentView\"\n      />\n    </div>\n    <div v-show=\"loadingStatus || (!activity || !userInfo)\" class=\"loading\">\n      <Loading :text=\"loadingText\" />\n    </div>\n    <div v-show=\"shareGuid\" @touchend=\"shareGuid=false\" class=\"share-guid\">\n      <div class=\"img\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport Add from './components/Add'\nimport Show from './components/Show'\nimport Join from './components/Join'\nimport Share from './components/Share'\nimport Loading from './components/Loading'\nimport { getUrlParams } from '@/libs/utils'\n\nexport default {\n  name: 'App',\n  components: {\n    Add,\n    Show,\n    Join,\n    Share,\n    Loading\n  },\n  data () {\n    return {\n      loadingText: '数据加载中...',\n      loadingStatus: false,\n      shareGuid: false\n    }\n  },\n  computed: {\n    ...mapState({\n      activity: state => state.app.activity,\n      userInfo: state => state.app.userInfo,\n      hasStory: state => state.app.hasStory\n    }),\n    currentView () {\n      const params = getUrlParams()\n      if (!this.activity.finish) {\n        if (this.hasStory) {\n          if (params.action != 'share') {\n            location.href = location.href + '&action=share'\n          }\n          return 'Share'\n        } else {\n          if (params.action == 'share') {\n            return 'Join'\n          } else {\n            return 'Add'\n          }\n        }\n      } else if (this.userInfo) {\n        return 'Show'\n      } else {\n        return 'Add'\n      }\n    }\n  },\n  mounted () {\n    const wx = navigator.userAgent.indexOf('micromessenger')\n    if (wx == -1) {\n      // this.showLoading('请在微信中打开')\n      // return\n    }\n    this.$store.dispatch('setUserInfo')\n    const params = getUrlParams()\n    if (params.code) {\n      this.$store.dispatch('setActivity', params.code)\n      this.$store.dispatch('setHasStory', params.code)\n    }\n  },\n  methods: {\n    showLoading (text = '数据加载中...', time = 0) {\n      this.loadingText = text\n      this.loadingStatus = true\n      if (time > 0) {\n        window.setTimeout(() => {\n          this.loadingStatus = false\n        }, time)\n      }\n    },\n    hideLoading () {\n      this.loadingStatus = false\n    },\n  }\n}\n</script>\n\n<style>\nbody{\n  margin: 0;\n  padding: 0;\n  font-size: 1.4rem;\n  background: #fff\n}\n#app {\n  font-family: SimHei,'黑体',Microsoft YaHei,微软雅黑,MicrosoftJhengHei,华文细黑,STHeiti,MingLiu;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #333;\n}\n.center{\n  text-align: center\n}\n.border-top{\n  height: 7px;\n  background: #f1cbce;\n  border: 1px solid #333;\n  border-bottom: none\n}\n.arrow-right{\n  position: absolute;\n  right: 5px;\n  top: 3px;\n  width: 15px;\n  height: 15px;\n  background: url('../static/image/arrow-right.png') no-repeat;\n  background-size: 100% 100%\n}\n.relative{\n  position: relative;\n}\n</style>\n<style scoped>\n  .loading{\n    width: 100vw;\n    height: 100vh;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 100\n  }\n  .share-guid{\n    width: 100vw;\n    height: 100vh;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 50;\n    background: #000;\n    opacity: 0.7\n  }\n  .share-guid .img{\n    width: 100%;\n    height: 100%;\n    background: url('../static/image/share-guid.png') no-repeat;\n    background-size: 100% 100%\n  }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.activity && _vm.userInfo)?_c('div',{staticClass:\"banner\"},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.activity.banner}})]):_vm._e(),_vm._v(\" \"),(_vm.activity && _vm.userInfo)?_c('div',{staticStyle:{\"height\":\"100%\"}},[_c(_vm.currentView,{tag:\"component\",on:{\"show-loading\":_vm.showLoading,\"hide-loading\":_vm.hideLoading,\"show-share-guid\":function($event){_vm.shareGuid=true}}})],1):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loadingStatus || (!_vm.activity || !_vm.userInfo)),expression:\"loadingStatus || (!activity || !userInfo)\"}],staticClass:\"loading\"},[_c('Loading',{attrs:{\"text\":_vm.loadingText}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shareGuid),expression:\"shareGuid\"}],staticClass:\"share-guid\",on:{\"touchend\":function($event){_vm.shareGuid=false}}},[_c('div',{staticClass:\"img\"})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a22e03c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a22e03c0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a22e03c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=1!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a22e03c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a22e03c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import ajax from '@/libs/request'\nconst app = {\n  state: {\n    activity: null,\n\t\tuserInfo: null,\n\t\thasStory: false // 是否已经存在此活动的故事\n  },\n  mutations: {\n    SET_ACTIVITY: (state, activity) => {\n      state.activity = activity\n    },\n    SET_USER_INFO: (state, userInfo) => {\n      state.userInfo = userInfo\n\t\t},\n\t\tSET_HAS_STORY: (state, hasStory) => {\n      state.hasStory = hasStory\n    }\n  },\n  actions: {\n    setActivity({ commit }, code) {\n\t\t\tconst query = { code }\n\t\t\treturn ajax.activityGet(query).then(response => {\n\t\t\t\tif (response.data.code === 0) {\n\t\t\t\t\tcommit('SET_ACTIVITY', response.data.data)\n\t\t\t\t\tdocument.title = response.data.data.title\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\treturn false\n\t\t\t})\n    },\n    setUserInfo({ commit }) {\n\t\t\tconst query = {\n\t\t\t\tuserId: window.localStorage.userId\n\t\t\t}\n\t\t\treturn ajax.getUser(query).then(response => {\n\t\t\t\tif (response.data.code === 0) {\n\t\t\t\t\tconst userInfo = response.data.data\n\t\t\t\t\twindow.localStorage.userId = userInfo.id\n\t\t\t\t\tcommit('SET_USER_INFO', userInfo)\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\treturn false\n\t\t\t})\n\t\t},\n\t\tsetHasStory({ commit }, code) {\n\t\t\tconst userId = window.localStorage.userId\n\t\t\tif (userId) {\n\t\t\t\tconst query = {\n\t\t\t\t\tuserId,\n\t\t\t\t\tcode\n\t\t\t\t}\n\t\t\t\treturn ajax.storyGet(query).then(response => {\n\t\t\t\t\tif (response.data.code === 0) {\n\t\t\t\t\t\tcommit('SET_HAS_STORY', true)\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommit('SET_HAS_STORY', false)\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t}).catch(() => {\n\t\t\t\t\treturn false\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n    }\n  }\n}\n\nexport default app\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport app from './modules/app'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  modules: {\n    app\n  }\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}